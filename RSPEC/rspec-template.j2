<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
{% set language = "en" %} {% set sortattr = "sort" %}

<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    {% set name = metadata.title|lower|replace(' ', '-') %}
	
    <meta charset="utf-8" />
    <title>{{ metadata.title }}</title>
    <script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove" defer></script>
    <script class="remove">
    // All config options at https://respec.org/docs/


		
	function quickreference() {
		$('#table-quickoverview').DataTable();
	};

    	var editors = [
	    {% if metadata.editors %}
		{% for editor in metadata.editors %}
		   {
		    name: "{{ editor }}",
		    companyURL: "",
		    company: "",
		    mailto: ""

		    }
		{% if not loop.last %}, {% endif %}
		{% endfor %}
             {% endif %}
		]

        	var authors = [
	    {% if metadata.authors %}
		{% for author in metadata.authors %}
		   {
		    name: "{{ author }}",
		    companyURL: "",
		    company: "",
		    mailto: ""

		    }
		{% if not loop.last %}, {% endif %}
		{% endfor %}
             {% endif %}
		]

   {% block respecconfig %}
    var respecConfig = {
      postProcess: [quickreference],
      publishDate: "{{ metadata.issued }}",
      shortName: "{{metadata.title}}",
        editors: editors,
      authors: authors,
        github: "{{ metadata.github }}",
      xref: "web-platform",
      generatedSubtitle: "",
      additionalCopyrightHolders: ""
    };

    {% endblock %}
{##}
{#       {% block respecconfig %}#}
{#    var respecConfig = {#}
{#      postProcess: [quickreference],#}
      {#edDraftURI: "{{metadata.navigation.self}}",#}
      {#latestVersion: "{{metadata.navigation.self}}",#}
{#      specStatus: "LS",#}
{#      publishDate: "{{ metadata.issued }}",#}
{#      editors: [],#}
{#      authors: [],#}
{#      github: "OP-TED/ePO",#}
{#      shortName: "{{metadata.title}}",#}
{#      xref: "web-platform",#}
{#      doJsonLd: true,#}
{#      logos: [{#}
{#        src: "https://github.com/SEMICeu/Core-Person-Vocabulary/blob/v2.0.0/releases/2.00/html/semic-icon.png",#}
{#        url: "https://semic.eu",#}
{#        alt: "SEMIC",#}
{#        width: 154,#}
{#        height: 140,#}
{#        id: "semic-logo",#}
{#      },],#}
{#      generatedSubtitle: "",#}
{#      additionalCopyrightHolders: "",#}
{#      localBiblio: {#}
{#        "ISA":{#}
{#           "href":"https://ec.europa.eu/isa/",#}
{#           "title":"Interoperability Solutions for European Public Administrations (ISA)",#}
{#           "publisher":"European Commission"#}
{#          },#}
{#        "ISA2":{#}
{#          "href":"https://ec.europa.eu/isa2/",#}
{#          "title":"Interoperability solutions for public administrations, businesses and citizens (ISA²)",#}
{#          "publisher":"European Commission"#}
{#        },#}
{#        "SEMIC":{#}
{#          "href":"https://ec.europa.eu/isa2/actions/improving-semantic-interoperability-european-egovernment-systems_en",#}
{#          "title":"Interoperability solutions for public administrations, businesses and citizens (ISA²). Improving semantic interoperability in European eGovernment systems",#}
{#          "publisher":"European Commission"#}
{#         },#}
{#        "IdentifierGuidelines":{#}
{#          "href":"https://github.com/SEMICeu/DCAT-AP/blob/2.x.y-draft/releases/2.x.y/usageguide-identifiers.md",#}
{#          "title":"Guidelines on the management of identifiers",#}
{#          "publisher":"European Commission"#}
{#         }#}
{##}
{#      }#}
{#    };#}
{##}
{#    {% endblock %}#}

    </script>
    <style>
      .figure img, .sidefigure img, figure img, .figure object, .sidefigure object, figure object, img, .img {
      max-width: 100%;
      margin: auto;
      height: auto;
      }
    </style>
    {# -- documentation indication by nunjuncs template language
       Copyright must be specified otherwise Respec generates a value
     #}
    <p class="copyright">
        Copyright © 2023
    </p>
    {# <p id="w3c-state"><a href="https://www.w3.org/standards/types#ED">SEMIC Editor's Draft</a><time class="dt-published" datetime="2022-11-07">07 November 2022</time></p> #}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="msapplication-TileColor" content="#7ED956" />
</head>
<body>



{% block summary %}
<section id="abstract">
    <h2>Summary</h2>
        {% if metadata.description %}{{ metadata.description }}{% endif %}
</section>
{% endblock %}



<section id="specterminology">
    <h2>Terminology</h2>
<p>
An <strong>Application Profile</strong> is a specification that reuses terms from one or more base standards, adding more specificity by identifying mandatory, recommended and optional elements to be used for a particular application, as well as recommendations for controlled vocabularies to be used.
</p><p>
A <strong>Dataset</strong> is a collection of data, published or curated by a single source, and available for access or download in one or more formats.
A <strong>Data Portal</strong> is a Web-based system that contains a data catalogue with descriptions of datasets and provides services enabling discovery and reuse of the datasets.

<h3>Used Prefixes</h3>


        <table id="table-namespaces" class="simple">
            <thead><tr><th>Prefix</th><th>Namespace IRI</th></tr></thead>
            <tbody>
            {% for prefix in prefixes %}
                <tr><td><code>{{ prefix.name }}</code></td><td><code>{{ prefix.uri }}</code></td></tr>
            {% endfor %}
            </tbody>
        </table>

</section>

<section>


    {% macro renderentity(entity) %}
        <section>
            <h3 id="{{ entity.label[language]| replace(" ","") |urlencode }}">
                <a href="{{ entity.uri }}"
                   data-toggle="tooltip"
                   data-content="{{ entity.uri }}"
                   data-placement="right">{{ entity.label[language] }}</a>

            </h3>
            <dl>
                <dt>
                    Definition
                </dt>
                <dd>
                    {{ entity.description[language] }}
                </dd>
                {% if entity.usage[language] %}
                    <dt>
                        Usage Note
                    </dt>
                    <dd>
                        {{ entity.usage[language] | safe }}
                    </dd>
                {% endif %}
                {% if ((entity.parents | length) > 0 ) %}
                    <dt>
                        Subclass of
                        <dt>
                            <dd>
                                {%- for parent in entity['parents'] %} <a href="{{ parent.scoped_uri | replace(" ","") }}">{{ parent.label.en }}</a>
                                {% if not loop.last %},{% endif %}
                            {%- endfor %}
                        </dd>
                    {% endif %}
                    <dt>
                        Properties
                    </dt>
                    {% if ((entity.properties | length) > 0 ) %}
                        <dd>
                            For this entity the following properties are defined: {%- for prop in entity['properties'] | sort(attribute=sortattr) %} <a href="#{{ (entity.label[language] ~ '.' ~ prop.label[language]) | replace(" ","") | urlencode }}">{{ prop.label[language] }}</a>
                            {% if not loop.last %},{% endif %}
                        {%- endfor %}.
                    </dd>
                {% else %}
                    <dd>
                        This specification does not impose any additional requirements to properties for this entity.
                    </dd>
                {% endif %}
            </dl>
        </div>
        {% if ((entity.properties | length) > 0 ) %}
            <div class="u-table-overflow">
                <table class="data-table simple" id="table-mandatory-classes">
                    <thead>
                        <tr class="data-table__header">
                            <th class="data-table__header-title--sortable" style="width:5%">
                            </th>
                            <th class="data-table__header-title--sortable data-table__header-title--sortable-active" style="width:12%">
                                Property
                            </th>
                            <th class="data-table__header-title--sortable" style="width:12%">
                                Range
                            </th>
                            <th class="data-table__header-title--sortable" style="width:6%">
                                Card
                            </th>
                            <th class="data-table__header-title--sortable" style="width:30%">
                                Definition
                            </th>
{#                            <th class="data-table__header-title--sortable" style="width:30%">#}
{#                                Usage#}
{#                            </th>#}
                        </tr>
                    </thead>
                    <tbody class="supertype">
                        {% for prop in entity['properties'] | sort(attribute=sortattr) %}
                            <tr id="{{ (entity.label[language] ~ '.' ~ prop.label[language]) | replace(" ","") | urlencode }}"
                                typeof="rdfs:Property"
                                resource="{{ prop.uri }}"
                                class="class mandatory">
                                <td>

                                    <a href="{{ metadata.feedbackurl }}/new?title=Issue%20for%20{{ prop.label[language] }}%20in%20{{ entity.label[language]}}" target="_blank" rel="noopener noreferrer" >
					    <!--                                        <i class="icon">[o]</i> -->
{#                                        <img src="https://icon2.cleanpng.com/20180426/plq/kisspng-line-angle-font-5ae26353b5d786.0490384515247860037448.jpg" loading="lazy" alt="[o]" width="100" height="100"/>#}
                                    <i class="fa-regular fa-message"></i>
                                    </a>

                                </td>
                                <td>
                                        <a href="{{ prop.uri }}"
                                           data-toggle="tooltip"
                                           data-content="{{ prop.uri }}"
                                           data-placement="right">
                                        {{ prop.label[language] }}</a>
                                </td>
                                <td>
                                    {% for range in prop.range %}

                                            <a href="{{ range['uri'] }}" data-placement="right">{{ range['name'] }}</a>

                                    {% endfor %}
                                </td>
                                <td>
                                    {{ prop.cardinality }}
                                </td>
                                <td property="rdfs:comment">
                                    {{ prop.description[language] }}
                                </td>
{#                                <td property="skos:scopeNote">#}
{#                                    {{ prop.usage[language] | safe }}#}
{#                                </td>#}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}
    </div>
</section>

{% endmacro %}

<h2>
   Main Entities
</h2>
The main entities are those that form the core of the Application Profile.

{% for entity in classes | sort(attribute=sortattr) %}
{#{% if entity.rawTags['class-usage-scope'] == "main"   %}#}
   {{ renderentity(entity) }}
{#{% endif %}#}
{% endfor %}
</section>

</body>

<!-- This must be at the end of the template, to ensure that the iterator properly works -->
    <script defer>


	    var prefixes = [ 
{'pref':'adms:', 'ns': 'http://www.w3.org/ns/adms#'},
{'pref':'dcat:', 'ns': 'http://www.w3.org/ns/dcat#'},
{'pref':'dcatap:', 'ns': 'http://data.europa.eu/r5r/'},
{'pref':'dct:', 'ns': 'http://purl.org/dc/terms/'},
{'pref':'dctype:', 'ns': 'http://purl.org/dc/dcmitype/'},
{'pref':'foaf:', 'ns': 'http://xmlns.com/foaf/0.1/'},
{'pref':'locn:', 'ns': 'http://www.w3.org/ns/locn#'},
{'pref':'odrl:', 'ns': 'http://www.w3.org/ns/odrl/2/'},
{'pref':'owl:', 'ns': 'http://www.w3.org/2002/07/owl#'},
{'pref':'prov:', 'ns': 'http://www.w3.org/ns/prov#'},
{'pref':'rdf:', 'ns': 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'},
{'pref':'rdfs:', 'ns': 'http://www.w3.org/2000/01/rdf-schema#'},
{'pref':'skos:', 'ns': 'http://www.w3.org/2004/02/skos/core#'},
{'pref':'spdx:', 'ns': 'http://spdx.org/rdf/terms#'},
{'pref':'time:', 'ns': 'http://www.w3.org/2006/time#'},
{'pref':'vcard:', 'ns': 'http://www.w3.org/2006/vcard/ns#'},
{'pref':'eli:', 'ns' : 'http://data.europa.eu/eli/ontology#'},
{'pref':'xsd:', 'ns': 'http://www.w3.org/2001/XMLSchema#'}
				];

	    function shorturl (url) {
				var short = url;
				for (e in prefixes) {
				   var elem = prefixes[e];
				   if (short.startsWith(elem.ns)) {
  					short = elem.pref + short.slice(elem.ns.length);
					}
				};
				return short;
			};

	    var shorten = document.getElementsByClassName("shorten");
	    for (k=0;k < shorten.length ; k++){
			var selem = shorten[k];	
	                selem.innerHTML = shorturl(selem.innerHTML.trim());
			}
    </script>
    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.6/codemirror.min.css" />
	<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css"> -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css"> 
	<!-- <script src="https://code.jquery.com/jquery-3.1.1.min.js" ></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.6/codemirror.min.js" ></script>
    <!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" ></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.6/codemirror.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.6/mode/javascript/javascript.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.6/mode/turtle/turtle.min.js" ></script>
    <script src="https://codemirror.net/5/mode/javascript/javascript.js" ></script>
    <!--    <script src="https://semiceu.github.io/MLDCAT-AP/releases/1.0.0/example.js" ></script> -->
    <script src="./html/example.js" ></script>
	<script type="text/javascript">
		function elementInView(elem){
				goesIn = ($(window).height() + $(window).scrollTop()) > $(elem).offset().top;
				goesOut = ($(window).scrollTop()) > ($(elem).offset().top + $(elem).height());
				if (goesIn && !goesOut)
					return 1;
				else
					return 0;
			};

		$(window).scroll(function(){
			$('.CodeMirror').each(function(){
				if (elementInView($(this))){
					$(this).each(function(i, el){
						el.CodeMirror.refresh();
					});
				}
			});
			
		});
	</script>
	<style>
		.CodeMirror {
		  border: 1px solid #eee;
		  height: auto;
		}
		.buttonsample {
		cursor: pointer;
		margin-top: 10px;
		margin-left: 10px;
		font-weight: 700;
		border:0 outset buttonface;
		background: #F5F6F8;
		background-image: linear-gradient(to bottom,#F5F6F8,#DBDCDE);
		border-radius:4px;
		box-shadow:0 1px 3px #666;
		font-family: Arial;
		color: grey;
		font-size: 14px;
		padding: 10px 5px;
		text-decoration: none;
		float: right
	}
	.buttonsample:hover {color:#2a70d3}
	.tabsstyle {
		padding: 10px;
		overflow: hidden;
	}
	li.ui-tabs-tab > a:hover {
		background-color:dodgerblue;
		color:white;
	}
  </style>

    	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
</html>
